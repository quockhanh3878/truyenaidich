{"ast":null,"code":"const CACHE_NAME=\"truyen-ai-dich-cache-v2\";const ASSETS_TO_CACHE=[\"/\",\"/index.html\",\"/manifest.json\",\"/favicon.ico\",\"/logo192.png\",\"/logo512.png\",\"/static/css/*.css\",\"/static/js/*.js\"];// Cài đặt Service Worker\nself.addEventListener(\"install\",event=>{event.waitUntil(caches.open(CACHE_NAME).then(cache=>{return cache.addAll(ASSETS_TO_CACHE);}));self.skipWaiting();});// Kích hoạt Service Worker\nself.addEventListener(\"activate\",event=>{event.waitUntil(caches.keys().then(keyList=>{return Promise.all(keyList.map(key=>{if(key!==CACHE_NAME){return caches.delete(key);}}));}));self.clients.claim();});// Fetch event để phục vụ từ cache\nself.addEventListener(\"fetch\",event=>{const{request}=event;// Chỉ cache GET requests\nif(request.method!==\"GET\")return;event.respondWith(caches.match(request).then(cachedResponse=>{// Trả về từ cache nếu có\nif(cachedResponse){return cachedResponse;}// Nếu không có trong cache, fetch từ mạng\nreturn fetch(request).then(response=>{// Không cache response lỗi\nif(!response||response.status!==200||response.type!==\"basic\"){return response;}// Clone response để lưu vào cache\nconst responseToCache=response.clone();caches.open(CACHE_NAME).then(cache=>{cache.put(request,responseToCache);});return response;});}));});","map":{"version":3,"names":["CACHE_NAME","ASSETS_TO_CACHE","self","addEventListener","event","waitUntil","caches","open","then","cache","addAll","skipWaiting","keys","keyList","Promise","all","map","key","delete","clients","claim","request","method","respondWith","match","cachedResponse","fetch","response","status","type","responseToCache","clone","put"],"sources":["D:/truyen-ai-dich/truyen-ai-dich/src/service-worker.js"],"sourcesContent":["const CACHE_NAME = \"truyen-ai-dich-cache-v2\";\r\nconst ASSETS_TO_CACHE = [\r\n  \"/\",\r\n  \"/index.html\",\r\n  \"/manifest.json\",\r\n  \"/favicon.ico\",\r\n  \"/logo192.png\",\r\n  \"/logo512.png\",\r\n  \"/static/css/*.css\",\r\n  \"/static/js/*.js\"\r\n];\r\n\r\n// Cài đặt Service Worker\r\nself.addEventListener(\"install\", (event) => {\r\n  event.waitUntil(\r\n    caches.open(CACHE_NAME).then((cache) => {\r\n      return cache.addAll(ASSETS_TO_CACHE);\r\n    })\r\n  );\r\n  self.skipWaiting();\r\n});\r\n\r\n// Kích hoạt Service Worker\r\nself.addEventListener(\"activate\", (event) => {\r\n  event.waitUntil(\r\n    caches.keys().then((keyList) => {\r\n      return Promise.all(\r\n        keyList.map((key) => {\r\n          if (key !== CACHE_NAME) {\r\n            return caches.delete(key);\r\n          }\r\n        })\r\n      );\r\n    })\r\n  );\r\n  self.clients.claim();\r\n});\r\n\r\n// Fetch event để phục vụ từ cache\r\nself.addEventListener(\"fetch\", (event) => {\r\n  const { request } = event;\r\n  \r\n  // Chỉ cache GET requests\r\n  if (request.method !== \"GET\") return;\r\n\r\n  event.respondWith(\r\n    caches.match(request).then((cachedResponse) => {\r\n      // Trả về từ cache nếu có\r\n      if (cachedResponse) {\r\n        return cachedResponse;\r\n      }\r\n\r\n      // Nếu không có trong cache, fetch từ mạng\r\n      return fetch(request).then((response) => {\r\n        // Không cache response lỗi\r\n        if (!response || response.status !== 200 || response.type !== \"basic\") {\r\n          return response;\r\n        }\r\n\r\n        // Clone response để lưu vào cache\r\n        const responseToCache = response.clone();\r\n\r\n        caches.open(CACHE_NAME).then((cache) => {\r\n          cache.put(request, responseToCache);\r\n        });\r\n\r\n        return response;\r\n      });\r\n    })\r\n  );\r\n});"],"mappings":"AAAA,KAAM,CAAAA,UAAU,CAAG,yBAAyB,CAC5C,KAAM,CAAAC,eAAe,CAAG,CACtB,GAAG,CACH,aAAa,CACb,gBAAgB,CAChB,cAAc,CACd,cAAc,CACd,cAAc,CACd,mBAAmB,CACnB,iBAAiB,CAClB,CAED;AACAC,IAAI,CAACC,gBAAgB,CAAC,SAAS,CAAGC,KAAK,EAAK,CAC1CA,KAAK,CAACC,SAAS,CACbC,MAAM,CAACC,IAAI,CAACP,UAAU,CAAC,CAACQ,IAAI,CAAEC,KAAK,EAAK,CACtC,MAAO,CAAAA,KAAK,CAACC,MAAM,CAACT,eAAe,CAAC,CACtC,CAAC,CACH,CAAC,CACDC,IAAI,CAACS,WAAW,CAAC,CAAC,CACpB,CAAC,CAAC,CAEF;AACAT,IAAI,CAACC,gBAAgB,CAAC,UAAU,CAAGC,KAAK,EAAK,CAC3CA,KAAK,CAACC,SAAS,CACbC,MAAM,CAACM,IAAI,CAAC,CAAC,CAACJ,IAAI,CAAEK,OAAO,EAAK,CAC9B,MAAO,CAAAC,OAAO,CAACC,GAAG,CAChBF,OAAO,CAACG,GAAG,CAAEC,GAAG,EAAK,CACnB,GAAIA,GAAG,GAAKjB,UAAU,CAAE,CACtB,MAAO,CAAAM,MAAM,CAACY,MAAM,CAACD,GAAG,CAAC,CAC3B,CACF,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACDf,IAAI,CAACiB,OAAO,CAACC,KAAK,CAAC,CAAC,CACtB,CAAC,CAAC,CAEF;AACAlB,IAAI,CAACC,gBAAgB,CAAC,OAAO,CAAGC,KAAK,EAAK,CACxC,KAAM,CAAEiB,OAAQ,CAAC,CAAGjB,KAAK,CAEzB;AACA,GAAIiB,OAAO,CAACC,MAAM,GAAK,KAAK,CAAE,OAE9BlB,KAAK,CAACmB,WAAW,CACfjB,MAAM,CAACkB,KAAK,CAACH,OAAO,CAAC,CAACb,IAAI,CAAEiB,cAAc,EAAK,CAC7C;AACA,GAAIA,cAAc,CAAE,CAClB,MAAO,CAAAA,cAAc,CACvB,CAEA;AACA,MAAO,CAAAC,KAAK,CAACL,OAAO,CAAC,CAACb,IAAI,CAAEmB,QAAQ,EAAK,CACvC;AACA,GAAI,CAACA,QAAQ,EAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,EAAID,QAAQ,CAACE,IAAI,GAAK,OAAO,CAAE,CACrE,MAAO,CAAAF,QAAQ,CACjB,CAEA;AACA,KAAM,CAAAG,eAAe,CAAGH,QAAQ,CAACI,KAAK,CAAC,CAAC,CAExCzB,MAAM,CAACC,IAAI,CAACP,UAAU,CAAC,CAACQ,IAAI,CAAEC,KAAK,EAAK,CACtCA,KAAK,CAACuB,GAAG,CAACX,OAAO,CAAES,eAAe,CAAC,CACrC,CAAC,CAAC,CAEF,MAAO,CAAAH,QAAQ,CACjB,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}